<!-- #BeginTemplate "templatesubdir.dwt" -->
<!doctype html public "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<!-- #BeginEditable "TITLE" -->
<title>Script Collection - Smart Card Simulation</title>
<!-- #EndEditable -->
<link rel=stylesheet type="text/css" href="../style.css">
<meta name="author" content="Andreas Schwier">
</head>
<body>
<div align="left"><a href="http://www.cardcontact.de"><img src="../banner.jpg" width="750" height="80" border="0"></a></div></td>
<div id="navigator">
    <p><b>Script Collection</b></p>
    <a href="../index.html">Home</a><br>
    <a href="http://www.openscdp.org/scripts/download.html">Download</a><br>
    <br>
    <a href="../cardsim/index.html">Card Simulation</a><br>
    <a href="../cardsim/index.html">Testing</a><br>
    <br>
    <a href="../eID/index.html">German eID (nPA)</a><br>
    <a href="../eGK/index.html">German eGK</a><br>
    <a href="../HPC/index.html">German HPC</a><br>
    <a href="../kvk/index.html">German KVK</a><br><br>
    <a href="../icao/index.html">ICAO MRTD</a><br>
    <a href="../gp/index.html">GP Card</a><br>
    <a href="../musclecard/index.html">MuscleCard</a><br>
    <a href="../pkcs15/index.html">PKCS#15 Card</a><br>
    <a href="../emv/index.html">EMV</a><br>
    <a href="../mifare/index.html">Mifare</a><br>
    <br>
    <a href="../tutorial/index.html">Tutorial</a><br>
    <br>
    <a href="http://www.openscdp.org">OpenSCDP</a><br>
    <a href="http://www.openscdp.org/support.html">Support</a><br>
</div>
<div id="main">
<!-- #BeginEditable "BODY" -->
<h1>Card Simulation and Testing</h1>
<p>The Smart Card Shell provides for a framework to implement card simulations and to develop card tests.</p>
<p>Simulating a card serves a number of purposes:</p>
<ol>
<li>The functionality of the card interface can be simulated before the actual implementation is available, 
    thus the viability of the design can be verified beforehand.</li>
<li>Tests can be developed against a known reference and later used to test the actual implementation</li>
<li>Exceptional card behaviour can be tested much easier, because the simulation can provide for
    test functions not available in the actual card implementation</li>
<li>Personalization processes can be developed and tested without waste of material</li>
</ol>
<h2>Simulating a card</h2>
<p>A card simulation is a set of scripts that define JavaScript objects which handle APDUs.</p>
<p>The central entry point into the simulation is provided by the 
   <a href="http://www.openscdp.org/scsh3/cardsimulationadapter.html">CardSimulationAdapter</a> class.
   An instance of this class is used to receive APDUs and pass them to a simulation object.</p>
<p>The CardSimulationAdapter can be used for server socket based card communication as well as for hardware based
   interface simulations. Currently however, only the server socket based card communication using the JCOP simulation
   protocol is available. The counterpart to the JCOP server socket is implemented as JCOPCardTerminal in the
   OCF protocol stack.</p>
<p>The scripting bundle includes a number of useful script classes to ease the implementation of card simulations.
   See the <a href="jsdoc/index.html">provided documentation</a> for details.</p>
<h2>Testing a card</h2>
<p>Card tests are short script fragments that execute command APDUs against a card and verify that the
   card implementation shows the required behaviour.<p>
<p>The test framework provides for</p>
<ul>
<li>Test Steps - Individual steps in a test scenario</li>
<li>Test Procedures - Sequence of test steps that are applied for a certain test</li>
<li>Test Cases - A test setup that verifies a certain aspect of the component under test</li>
<li>Test Groups - A collection of related test cases</li>
</ul>
<p>Test cases are organized as a test group in an XML file. Test steps are organized as a test procedure in an XML file.
   Test cases can invoke test procedures. Parameter passing between tests and test procedures is done using
   configuration objects.</p>
<p>The XML files allow a proper documentation of the test elements, combining the code for testing with the
   test documentation. XML files for testing can be converted to HTML files using provided or self-written style sheets.</p>
<p>The execution of tests is done under control of a test runner. A test runner is a script that
   organizes the loading of XML files and allows the automatic or manual execution of test cases or groups.</p>
<p>For a test drive you could use the simplecard.js script that creates a simple card simulation using 
   server socket communication. To start the simulation use the following command in the Smart Card Shell:</p>
<pre>
&gt; load("cardsim/simplecard.js");
</pre>
<p>To run the tests against the simulation, you will need to start a second instance of the Smart Card Shell, 
   select the JCOPSimulation as card reader and enter:</p>
<pre>
&gt; load("cardsim/testing/loadtests.js");
</pre>
<p>Tests can then be selected and run in the test explorer (Right-Click with the mouse on a node in the test explorer).</p>

<!-- #EndEditable -->
<br>
<p class="copyright">&copy; Copyright 2003 - 2010 <a href="http://www.cardcontact.de">CardContact</a>
Software & System Consulting, Minden, Germany</p>
</div>
</body>
</html><!-- #EndTemplate -->